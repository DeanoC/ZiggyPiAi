name: ci

on:
  push:
  pull_request:

jobs:
  zig-tests:
    uses: DeanoC/ZiggySpiderweb/.github/workflows/ziggy-shared-ci.yml@main
    with:
      build_command: zig build
      test_command: zig build test
      extra_commands: |
        zig test src/integration_test.zig --test-filter "openai responses integration"
        zig test src/integration_test.zig --test-filter "codex spark originator integration"
        ./scripts/check-model-sync.sh
